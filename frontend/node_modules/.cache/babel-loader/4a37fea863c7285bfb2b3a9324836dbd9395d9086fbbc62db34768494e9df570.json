{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/pages/mui-components/muitablescholarships.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport Modal from '@mui/material/Modal';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport { useNavigate } from 'react-router-dom';\n// Define the Scholarship interface\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// Define the MuiTable component\nexport default function MuiTable({\n  endpoint,\n  filter\n}) {\n  _s();\n  const [tableData, setTableData] = useState([]);\n  const [sortField, setSortField] = useState('');\n  const [sortDirection, setSortDirection] = useState('asc');\n  const [hoveredRow, setHoveredRow] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [selectedScholarship, setSelectedScholarship] = useState(null);\n  const [userType, setUserType] = useState('');\n  const navigate = useNavigate();\n  // Fetch data from the API\n  useEffect(() => {\n    setUserType(sessionStorage.getItem('type') || '');\n    axios.get(endpoint).then(response => {\n      const {\n        scholarships\n      } = response.data;\n      setTableData(scholarships);\n    }).catch(error => {\n      console.error('Error fetching data:', error);\n    });\n  }, [endpoint]);\n\n  // Parse the filter string into an object\n  const filters = filter.split('&').reduce((acc, item) => {\n    const [key, value] = item.split('=');\n    acc[key] = value;\n    return acc;\n  }, {});\n\n  // Filter function to filter the data based on the filters object\n  const filteredData = tableData.filter(row => {\n    return Object.entries(filters).every(([key, value]) => {\n      let rowValue;\n      switch (key) {\n        case 'name':\n          return row.scholarshipName.toLowerCase().includes(value.toLowerCase());\n        case 'majors':\n          return row.majors.toLowerCase().includes(value.toLowerCase());\n        case 'minors':\n          return row.minors.toLowerCase().includes(value.toLowerCase());\n        case 'minAwardAmount':\n          return row.awardAmount >= parseFloat(value);\n        case 'maxAwardAmount':\n          return row.awardAmount <= parseFloat(value);\n        case 'minNumberAvailable':\n          return row.numberAvailable >= parseInt(value);\n        case 'maxNumberAvailable':\n          return row.numberAvailable <= parseInt(value);\n        case 'minGpa':\n          return row.gpa >= parseFloat(value);\n        case 'maxGpa':\n          return row.gpa <= parseFloat(value);\n        case 'deadline':\n          if (value === 'Today') {\n            return new Date(row.deadline.substring(0, 10)).getTime() === new Date().getTime();\n          } else if (value === 'This Week') {\n            const today = new Date();\n            const nextWeek = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 7);\n            return new Date(row.deadline.substring(0, 10)).getTime() <= nextWeek.getTime();\n          } else if (value === 'This Month') {\n            const today = new Date();\n            const nextMonth = new Date(today.getFullYear(), today.getMonth() + 1, today.getDate());\n            return new Date(row.deadline.substring(0, 10)).getTime() <= nextMonth.getTime();\n          } else if (value === 'This Year') {\n            const today = new Date();\n            const nextYear = new Date(today.getFullYear() + 1, today.getMonth(), today.getDate());\n            return new Date(row.deadline.substring(0, 10)).getTime() <= nextYear.getTime();\n          } else {\n            return true;\n          }\n        case 'sponsorID':\n          return row.sponsorID.toLowerCase().includes(value.toLowerCase());\n        default:\n          return true;\n      }\n    });\n  });\n\n  // Sort function\n  const sortData = (data, field, direction) => {\n    return [...data].sort((a, b) => {\n      if (a[field] < b[field]) {\n        return direction === 'asc' ? -1 : 1;\n      }\n      if (a[field] > b[field]) {\n        return direction === 'asc' ? 1 : -1;\n      }\n      return 0;\n    });\n  };\n\n  // Sort the filtered data\n  const sortedData = sortData(filteredData, sortField, sortDirection);\n\n  // Function to handle header click\n  const handleHeaderClick = field => {\n    const newDirection = sortField === field && sortDirection === 'asc' ? 'desc' : 'asc';\n    setSortField(field);\n    setSortDirection(newDirection);\n  };\n\n  // Function to handle row click\n  const handleRowClick = scholarshipID => {\n    // Find the scholarship with the specified ID\n    const scholarship = tableData.find(scholarship => scholarship.scholarshipID === scholarshipID);\n    console.log(scholarship);\n    // If the scholarship is found, set it to the selectedScholarship state\n    if (scholarship) {\n      setSelectedScholarship(scholarship);\n      setIsModalOpen(true); // Open the modal\n      sessionStorage.setItem('selectedScholarship', JSON.stringify(scholarship)); // Save the scholarship in sessionStorage\n      sessionStorage.setItem('selectedScholarshipId', scholarshipID.toString()); // Save the scholarship ID in sessionStorage\n      sessionStorage.setItem('selectedScholarshipName', scholarship.scholarshipName); // Save the scholarship name in sessionStorage\n    } else {\n      console.error(`Scholarship with ID ${scholarshipID} not found.`);\n    }\n  };\n  const handleReportClick = () => {\n    if (selectedScholarship) {\n      axios({\n        url: 'http://localhost:8000/applicantreport/',\n        method: 'POST',\n        responseType: 'blob',\n        // Important\n        data: selectedScholarship\n      }).then(response => {\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', 'applicants.csv');\n        document.body.appendChild(link);\n        link.click();\n      }).catch(error => {\n        console.error('Error querying applicants:', error);\n      });\n    }\n  };\n  const handleModifyClick = () => {\n    if (selectedScholarship) {\n      console.log(selectedScholarship);\n      navigate(`/editscholarship/`, {\n        state: {\n          scholarship: selectedScholarship\n        }\n      });\n    }\n  };\n  const handleDeleteClick = () => {\n    if (selectedScholarship) {\n      axios.delete(`http://localhost:8000/scholarships/${selectedScholarship.scholarshipID}/delete/`).then(response => {\n        console.log('Scholarship deleted:', response.data);\n        navigate('/scholarships');\n      }).catch(error => {\n        console.error('Error deleting scholarship:', error);\n        // Handle error here, e.g. show error message to user\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      style: {\n        backgroundColor: \"#FAFAFA\",\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        \"aria-label\": \"simple table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              style: {\n                verticalAlign: \"top\",\n                width: \"10%\"\n              },\n              onClick: () => handleHeaderClick('scholarshipName'),\n              children: [\"Name \", sortField === 'scholarshipName' && (sortDirection === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              style: {\n                verticalAlign: \"top\",\n                width: \"10%\"\n              },\n              onClick: () => handleHeaderClick('majors'),\n              children: [\"Majors \", sortField === 'majors' && (sortDirection === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              style: {\n                verticalAlign: \"top\",\n                width: \"10%\"\n              },\n              onClick: () => handleHeaderClick('minors'),\n              children: [\"Minors \", sortField === 'minors' && (sortDirection === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              style: {\n                verticalAlign: \"top\",\n                width: \"10%\"\n              },\n              onClick: () => handleHeaderClick('awardAmount'),\n              children: [\"Award Amount \", sortField === 'awardAmount' && (sortDirection === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              style: {\n                verticalAlign: \"top\",\n                width: \"5%\"\n              },\n              onClick: () => handleHeaderClick('numberAvailable'),\n              children: [\"# Available \", sortField === 'numberAvailable' && (sortDirection === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              style: {\n                verticalAlign: \"top\",\n                width: \"5%\"\n              },\n              onClick: () => handleHeaderClick('gpa'),\n              children: [\"GPA \", sortField === 'gpa' && (sortDirection === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              style: {\n                verticalAlign: \"top\",\n                width: \"5%\"\n              },\n              onClick: () => handleHeaderClick('deadline'),\n              children: [\"Deadline \", sortField === 'deadline' && (sortDirection === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              style: {\n                verticalAlign: \"top\",\n                width: \"10%\"\n              },\n              onClick: () => handleHeaderClick('sponsorID'),\n              children: [\"Donor \", sortField === 'sponsorID' && (sortDirection === 'asc' ? '↑' : '↓')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          style: {\n            height: 'fit-content'\n          },\n          children: sortedData.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n            onMouseEnter: () => setHoveredRow(row.scholarshipID),\n            onMouseLeave: () => setHoveredRow(null),\n            onClick: () => handleRowClick(row.scholarshipID),\n            style: {\n              backgroundColor: hoveredRow === row.scholarshipID ? 'lightblue' : 'inherit',\n              cursor: hoveredRow === row.scholarshipID ? 'pointer' : 'default'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: row.scholarshipName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: row.majors\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: row.minors\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: [\"$\", row.awardAmount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: row.numberAvailable\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: row.gpa.toFixed(2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: new Date(row.deadline.substring(0, 10)).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"center\",\n              children: row.sponsorID\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, row.scholarshipID, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: isModalOpen,\n      onClose: () => setIsModalOpen(false),\n      \"aria-labelledby\": \"modal-title\",\n      \"aria-describedby\": \"modal-description\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)',\n          width: 600,\n          bgcolor: 'background.paper',\n          border: '2px solid #000',\n          boxShadow: 24,\n          p: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          id: \"modal-title\",\n          children: \"Scholarship Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"modal-description\",\n          style: {\n            marginTop: 2\n          },\n          children: selectedScholarship && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 24\n              }, this), \" \", selectedScholarship.scholarshipName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Award Amount:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 24\n              }, this), \" $\", selectedScholarship.awardAmount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Number Available:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 24\n              }, this), \" \", selectedScholarship.numberAvailable]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Majors:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 24\n              }, this), \" \", selectedScholarship.majors]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Minors:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 24\n              }, this), \" \", selectedScholarship.minors]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"GPA Requirement:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 24\n              }, this), \" \", selectedScholarship.gpa]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Deadline:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 24\n              }, this), \" \", new Date(selectedScholarship.deadline.substring(0, 10)).toLocaleDateString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Other Requirements:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 24\n              }, this), \" \", selectedScholarship.otherRequirements]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Donor:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 24\n              }, this), \" \", selectedScholarship.sponsorID]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            width: '100%',\n            mt: 2 // Adjust the margin as needed\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: () => setIsModalOpen(false),\n            sx: {\n              backgroundColor: '#ab0520',\n              ':hover': {\n                backgroundColor: 'lightblue' // Adjust the hover color as needed\n              }\n            },\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), (userType === \"Scholarship Administrator\" || userType === \"Scholarship Reviewer\") && /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: () => handleReportClick(),\n            sx: {\n              ':hover': {\n                backgroundColor: 'lightblue' // Adjust the hover color as needed\n              }\n            },\n            children: \"Generate Applicant Report\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: () => {\n              // Implement the apply functionality here\n              window.location.href = 'http://localhost:3000/application';\n              console.log('Applying for scholarship:', selectedScholarship);\n            },\n            sx: {\n              ':hover': {\n                backgroundColor: 'lightblue' // Adjust the hover color as needed\n              }\n            },\n            children: \"Apply\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), (userType === \"Scholarship Administrator\" || userType === \"Engineering Staff\") && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            width: '100%',\n            mt: 2 // Adjust the margin as needed\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: () => handleModifyClick(),\n            sx: {\n              ':hover': {\n                backgroundColor: 'lightblue' // Adjust the hover color as needed\n              }\n            },\n            children: \"Modify\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: () => handleDeleteClick(),\n            sx: {\n              backgroundColor: '#ab0520',\n              ':hover': {\n                backgroundColor: 'lightblue' // Adjust the hover color as needed\n              }\n            },\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(MuiTable, \"SnhJerc3SIKbCx2Q5DpOH6ihW3k=\", false, function () {\n  return [useNavigate];\n});\n_c = MuiTable;\nvar _c;\n$RefreshReg$(_c, \"MuiTable\");","map":{"version":3,"names":["useState","useEffect","axios","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Modal","Box","Button","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","MuiTable","endpoint","filter","_s","tableData","setTableData","sortField","setSortField","sortDirection","setSortDirection","hoveredRow","setHoveredRow","isModalOpen","setIsModalOpen","selectedScholarship","setSelectedScholarship","userType","setUserType","navigate","sessionStorage","getItem","get","then","response","scholarships","data","catch","error","console","filters","split","reduce","acc","item","key","value","filteredData","row","Object","entries","every","rowValue","scholarshipName","toLowerCase","includes","majors","minors","awardAmount","parseFloat","numberAvailable","parseInt","gpa","Date","deadline","substring","getTime","today","nextWeek","getFullYear","getMonth","getDate","nextMonth","nextYear","sponsorID","sortData","field","direction","sort","a","b","sortedData","handleHeaderClick","newDirection","handleRowClick","scholarshipID","scholarship","find","log","setItem","JSON","stringify","toString","handleReportClick","url","method","responseType","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","handleModifyClick","state","handleDeleteClick","delete","children","component","style","backgroundColor","width","cursor","align","verticalAlign","onClick","fileName","_jsxFileName","lineNumber","columnNumber","height","map","onMouseEnter","onMouseLeave","toFixed","toLocaleDateString","open","onClose","sx","position","top","left","transform","bgcolor","border","boxShadow","p","id","marginTop","otherRequirements","display","justifyContent","mt","variant","location","_c","$RefreshReg$"],"sources":["/app/frontend/src/pages/mui-components/muitablescholarships.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport Modal from '@mui/material/Modal';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport { useNavigate } from 'react-router-dom';\n// Define the Scholarship interface\ninterface Scholarship {\n [key: string]: any;\n scholarshipID: number;\n applications: number[];\n awardedApplications: number[];\n awardAmount: number;\n sponsorID: string;\n numberAvailable: number;\n majors: string;\n minors: string;\n gpa: number;\n deadline: string;\n otherRequirements: string;\n scholarshipName: string;\n}\n\n// Define the MuiTable component\nexport default function MuiTable({ endpoint, filter }: { endpoint: string; filter: string; }) {\n const [tableData, setTableData] = useState<Scholarship[]>([]);\n const [sortField, setSortField] = useState<string>('');\n const [sortDirection, setSortDirection] = useState<'asc' | 'desc'>('asc');\n const [hoveredRow, setHoveredRow] = useState<number | null>(null);\n const [isModalOpen, setIsModalOpen] = useState(false);\n const [selectedScholarship, setSelectedScholarship] = useState<Scholarship | null>(null);\n const [userType, setUserType] = useState<string>('');\n const navigate = useNavigate();\n  // Fetch data from the API\n  useEffect(() => {\n    setUserType(sessionStorage.getItem('type') || '');\n    axios.get(endpoint)\n      .then(response => {\n        const { scholarships } = response.data;\n        setTableData(scholarships);\n      })\n      .catch(error => {\n        console.error('Error fetching data:', error);\n      });\n  }, [endpoint]);\n\n  // Parse the filter string into an object\n  const filters = filter.split('&').reduce((acc, item) => {\n    const [key, value] = item.split('=');\n    acc[key] = value;\n    return acc;\n  }, {} as Record<string, string>);\n\n  // Filter function to filter the data based on the filters object\n  const filteredData = tableData.filter(row => {\n  return Object.entries(filters).every(([key, value]) => {\n    let rowValue;\n    switch (key) {\n      case 'name':\n          return row.scholarshipName.toLowerCase().includes(value.toLowerCase());\n      case 'majors':\n          return row.majors.toLowerCase().includes(value.toLowerCase());\n      case 'minors':\n          return row.minors.toLowerCase().includes(value.toLowerCase());\n      case 'minAwardAmount':\n          return row.awardAmount >= parseFloat(value);\n      case 'maxAwardAmount':\n          return row.awardAmount <= parseFloat(value);\n      case 'minNumberAvailable':\n          return row.numberAvailable >= parseInt(value);\n      case 'maxNumberAvailable':\n          return row.numberAvailable <= parseInt(value);\n      case 'minGpa':\n          return row.gpa >= parseFloat(value);\n      case 'maxGpa':\n          return row.gpa <= parseFloat(value);\n      case 'deadline':\n          if (value === 'Today') {\n            return new Date(row.deadline.substring(0, 10)).getTime() === new Date().getTime();\n          } \n          else if (value === 'This Week') {\n            const today = new Date();\n            const nextWeek = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 7);\n            return new Date(row.deadline.substring(0, 10)).getTime() <= nextWeek.getTime();\n          }\n          else if (value === 'This Month') {\n            const today = new Date();\n            const nextMonth = new Date(today.getFullYear(), today.getMonth() + 1, today.getDate());\n            return new Date(row.deadline.substring(0, 10)).getTime() <= nextMonth.getTime();\n          }\n          else if (value === 'This Year') {\n            const today = new Date();\n            const nextYear = new Date(today.getFullYear() + 1, today.getMonth(), today.getDate());\n            return new Date(row.deadline.substring(0, 10)).getTime() <= nextYear.getTime();\n          }\n          else {\n            return true;\n          }\n      case 'sponsorID':\n        return row.sponsorID.toLowerCase().includes(value.toLowerCase());\n      default:\n        return true;\n    }\n  });\n  });\n\n  // Sort function\n  const sortData = (data: Scholarship[], field: string, direction: 'asc' | 'desc') => {\n    return [...data].sort((a, b) => {\n      if (a[field] < b[field]) {\n        return direction === 'asc' ? -1 : 1;\n      }\n      if (a[field] > b[field]) {\n        return direction === 'asc' ? 1 : -1;\n      }\n      return 0;\n    });\n  };\n\n  // Sort the filtered data\n  const sortedData = sortData(filteredData, sortField, sortDirection);\n\n  // Function to handle header click\n  const handleHeaderClick = (field: string) => {\n    const newDirection = sortField === field && sortDirection === 'asc' ? 'desc' : 'asc';\n    setSortField(field);\n    setSortDirection(newDirection);\n  };\n\n  // Function to handle row click\n  const handleRowClick = (scholarshipID: number) => {\n    // Find the scholarship with the specified ID\n    const scholarship = tableData.find(scholarship => scholarship.scholarshipID === scholarshipID);\n\n    console.log(scholarship);\n    // If the scholarship is found, set it to the selectedScholarship state\n    if (scholarship) {\n      setSelectedScholarship(scholarship);\n      setIsModalOpen(true); // Open the modal\n      sessionStorage.setItem('selectedScholarship', JSON.stringify(scholarship)); // Save the scholarship in sessionStorage\n      sessionStorage.setItem('selectedScholarshipId', scholarshipID.toString()); // Save the scholarship ID in sessionStorage\n      sessionStorage.setItem('selectedScholarshipName', scholarship.scholarshipName); // Save the scholarship name in sessionStorage\n    } else {\n      console.error(`Scholarship with ID ${scholarshipID} not found.`);\n    }\n  };\n\n  const handleReportClick = () => {\n    if (selectedScholarship) {\n      axios({\n        url: 'http://localhost:8000/applicantreport/',\n        method: 'POST',\n        responseType: 'blob', // Important\n        data: selectedScholarship,\n      })\n      .then((response) => {\n        const url = window.URL.createObjectURL(new Blob([response.data]));\n        const link = document.createElement('a');\n        link.href = url;\n        link.setAttribute('download', 'applicants.csv');\n        document.body.appendChild(link);\n        link.click();\n      })\n      .catch((error) => {\n        console.error('Error querying applicants:', error);\n      });\n    }\n  };\n\n  const handleModifyClick = () => {\n    if (selectedScholarship) {\n      console.log(selectedScholarship)\n      navigate(`/editscholarship/`, { state: { scholarship: selectedScholarship } });\n    }\n  };\n\n  const handleDeleteClick = () => {\n    if (selectedScholarship) {\n      axios.delete(`http://localhost:8000/scholarships/${selectedScholarship.scholarshipID}/delete/`)\n      .then(response => {\n        console.log('Scholarship deleted:', response.data);\n        navigate('/scholarships');\n      })\n      .catch(error => {\n        console.error('Error deleting scholarship:', error);\n        // Handle error here, e.g. show error message to user\n      });\n    }\n  };\n return (\n  <>\n    <TableContainer component={Paper} style={{ backgroundColor: \"#FAFAFA\", width: '100%'}}>\n      <Table aria-label=\"simple table\">\n      <TableHead>\n        <TableRow style={{ cursor: 'pointer' }}>\n            <TableCell align=\"center\" style={{ verticalAlign: \"top\", width: \"10%\" }} onClick={() => handleHeaderClick('scholarshipName')}>\n              Name {sortField === 'scholarshipName' && (sortDirection === 'asc' ? '↑' : '↓')}\n            </TableCell>\n            <TableCell align=\"center\" style={{ verticalAlign: \"top\", width: \"10%\" }} onClick={() => handleHeaderClick('majors')}>\n              Majors {sortField === 'majors' && (sortDirection === 'asc' ? '↑' : '↓')}\n            </TableCell>\n            <TableCell align=\"center\" style={{ verticalAlign: \"top\", width: \"10%\" }} onClick={() => handleHeaderClick('minors')}>\n              Minors {sortField === 'minors' && (sortDirection === 'asc' ? '↑' : '↓')}\n            </TableCell>\n            <TableCell align=\"center\" style={{ verticalAlign: \"top\", width: \"10%\" }} onClick={() => handleHeaderClick('awardAmount')}>\n              Award Amount {sortField === 'awardAmount' && (sortDirection === 'asc' ? '↑' : '↓')}\n            </TableCell>\n            <TableCell align=\"center\" style={{ verticalAlign: \"top\", width: \"5%\" }} onClick={() => handleHeaderClick('numberAvailable')}>\n              # Available {sortField === 'numberAvailable' && (sortDirection === 'asc' ? '↑' : '↓')}\n            </TableCell>\n            <TableCell align=\"center\" style={{ verticalAlign: \"top\", width: \"5%\" }} onClick={() => handleHeaderClick('gpa')}>\n              GPA {sortField === 'gpa' && (sortDirection === 'asc' ? '↑' : '↓')}\n            </TableCell>\n            <TableCell align=\"center\" style={{ verticalAlign: \"top\", width: \"5%\" }} onClick={() => handleHeaderClick('deadline')}>\n              Deadline {sortField === 'deadline' && (sortDirection === 'asc' ? '↑' : '↓')}\n            </TableCell>\n            <TableCell align=\"center\" style={{ verticalAlign: \"top\", width: \"10%\" }} onClick={() => handleHeaderClick('sponsorID')}>\n              Donor {sortField === 'sponsorID' && (sortDirection === 'asc' ? '↑' : '↓')}\n            </TableCell>\n        </TableRow>\n      </TableHead>\n        <TableBody style={{height: 'fit-content'}}>\n          {sortedData.map((row) => (\n            <TableRow\n              key={row.scholarshipID}\n              onMouseEnter={() => setHoveredRow(row.scholarshipID)}\n              onMouseLeave={() => setHoveredRow(null)}\n              onClick={() => handleRowClick(row.scholarshipID)}\n              style={{ backgroundColor: hoveredRow === row.scholarshipID ? 'lightblue' : 'inherit', cursor: hoveredRow === row.scholarshipID ? 'pointer' : 'default' }}\n              >\n              <TableCell align=\"center\">{row.scholarshipName}</TableCell>\n              <TableCell align=\"center\">{row.majors}</TableCell>\n              <TableCell align=\"center\">{row.minors}</TableCell>\n              <TableCell align=\"center\">${row.awardAmount}</TableCell>\n              <TableCell align=\"center\">{row.numberAvailable}</TableCell>\n              <TableCell align=\"center\">{row.gpa.toFixed(2)}</TableCell>\n              <TableCell align=\"center\">{new Date(row.deadline.substring(0, 10)).toLocaleDateString()}</TableCell>\n              <TableCell align=\"center\">{row.sponsorID}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n      <Modal\n        open={isModalOpen}\n        onClose={() => setIsModalOpen(false)}\n        aria-labelledby=\"modal-title\"\n        aria-describedby=\"modal-description\"\n        >\n        <Box sx={{\n            position: 'absolute',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            width: 600,\n            bgcolor: 'background.paper',\n            border: '2px solid #000',\n            boxShadow: 24,\n            p: 4,\n        }}>\n            <h2 id=\"modal-title\">Scholarship Details</h2>\n            <div id=\"modal-description\" style={{ marginTop: 2 }}>\n              {selectedScholarship && (\n                <div>\n                  <div><strong>Name:</strong> {selectedScholarship.scholarshipName}</div>\n                  <div><strong>Award Amount:</strong> ${selectedScholarship.awardAmount}</div>\n                  <div><strong>Number Available:</strong> {selectedScholarship.numberAvailable}</div>\n                  <div><strong>Majors:</strong> {selectedScholarship.majors}</div>\n                  <div><strong>Minors:</strong> {selectedScholarship.minors}</div>\n                  <div><strong>GPA Requirement:</strong> {selectedScholarship.gpa}</div>\n                  <div><strong>Deadline:</strong> {new Date(selectedScholarship.deadline.substring(0, 10)).toLocaleDateString()}</div>\n                  <div><strong>Other Requirements:</strong> {selectedScholarship.otherRequirements}</div>\n                  <div><strong>Donor:</strong> {selectedScholarship.sponsorID}</div>\n                </div>\n              )}\n            </div>\n          <Box sx={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            width: '100%',\n            mt: 2, // Adjust the margin as needed\n          }}>\n            <Button\n              variant=\"contained\"\n              onClick={() => setIsModalOpen(false)}\n              sx={{\n                backgroundColor: '#ab0520',\n                ':hover': {\n                  backgroundColor: 'lightblue', // Adjust the hover color as needed\n                },\n              }}\n            >\n              Close\n            </Button>\n            { (userType === \"Scholarship Administrator\" || userType === \"Scholarship Reviewer\") && (\n  <Button\n    variant=\"contained\"\n    onClick={() => handleReportClick()}\n    sx={{\n      ':hover': {\n        backgroundColor: 'lightblue', // Adjust the hover color as needed\n      },\n    }}\n  >\n    Generate Applicant Report\n  </Button>\n)}\n            <Button\n              variant=\"contained\"\n              onClick={() => {\n                // Implement the apply functionality here\n                window.location.href = 'http://localhost:3000/application';\n                console.log('Applying for scholarship:', selectedScholarship);\n              }}\n              sx={{\n                ':hover': {\n                  backgroundColor: 'lightblue', // Adjust the hover color as needed\n                },\n              }}\n            >\n              Apply\n            </Button>\n          </Box>\n          { (userType === \"Scholarship Administrator\" || userType === \"Engineering Staff\") && (\n          <Box sx={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            width: '100%',\n            mt: 2, // Adjust the margin as needed\n          }}>\n            <Button\n          variant=\"contained\"\n          onClick={() => handleModifyClick()}\n          sx={{\n            ':hover': {\n              backgroundColor: 'lightblue', // Adjust the hover color as needed\n            },\n          }}\n        >\n          Modify\n        </Button>\n        <Button\n          variant=\"contained\"\n          onClick={() => handleDeleteClick()}\n          sx={{\n            backgroundColor: '#ab0520',\n            ':hover': {\n              backgroundColor: 'lightblue', // Adjust the hover color as needed\n            },\n          }}\n        >\n          Delete\n        </Button>\n        \n        </Box>)}\n        </Box>\n      </Modal>\n    </>\n );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}